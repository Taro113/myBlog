---
date: 2022-12-06 14:58:14
title: LocalDateTime使用
permalink: /tech/4df292
categories:
  - 代码宇宙
  - Java
---

## 前言

> LocalDataTime 表示没有时区的日期时间

LocalDateTime 是 `Java8` 新出的时间日期类 API，它是**不可变的、线程安全**的。

而8版本之前的 Date、Calendar、SimpleDateFormat 等时间日期类的用法都很**繁琐**，而且是**可变的、线程不安全**的。

## 用法

#### 1. 获取当前时间

```java {1}
LocalDateTime localDateTime = LocalDateTime.now();
System.out.println(localDateTime);		// 2022-12-06T17:48:27.559
```

#### 2. 创建指定时间的对象

```java {1}
LocalDateTime localDateTime = LocalDateTime.of(2018, 1, 13, 9, 43, 20);
System.out.println(localDateTime);		// 2018-01-13T09:43:20
```

#### 3. 时间日期的加减

```java {3,4,5,6,7,8}
LocalDateTime currentTime = LocalDateTime.now();
//以下方法的参数都是long型，返回值都是LocalDateTime
LocalDateTime plusYearsResult = localDateTime.plusYears(2L);
LocalDateTime plusMonthsResult = localDateTime.plusMonths(3L);
LocalDateTime plusDaysResult = localDateTime.plusDays(7L);
LocalDateTime plusHoursResult = localDateTime.plusHours(2L);
LocalDateTime plusMinutesResult = localDateTime.plusMinutes(10L);
LocalDateTime plusSecondsResult = localDateTime.plusSeconds(10L);
```

或者是`localDateTime.plus(long amountToAdd, TemporalUnit unit)`：

```java {1}
LocalDateTime nextMonth = localDateTime.plus(1, ChronoUnit.MONTHS);
```

#### 4. 获取日期时间的年月日时分秒

```java {3,4,5,6,7,8}
LocalDateTime localDateTime = LocalDateTime.now();
System.out.println(localDateTime);
int year = localDateTime.getYear();
int month = localDateTime.getMonthValue();
int day = localDateTime.getDayOfMonth();
int hour = localDateTime.getHour();
int minute = localDateTime.getMinute();
int second = localDateTime.getSecond();
System.out.println(year+"年"+month+"月"+day+"日"+hour+"时"+minute+"分"+second+"秒");
// 2022年12月6日20时14分52秒
```

#### 5. 判断时间日期的前后

```java {3,4}
LocalDateTime qian = LocalDateTime.of(2018, 1, 1, 0, 0, 0);
LocalDateTime hou = LocalDateTime.of(2020, 1, 1, 0, 0, 0);
System.out.println(qian.isBefore(hou));		// true
System.out.println(qian.isAfter(hou));		// false
```

#### 6. 自定义输出格式

```java {2}
LocalDateTime localDateTime = LocalDateTime.now();
DateTimeFormatter formatter = DateTimeFormatter.ofPattern("yyyy/MM/dd HH:mm:ss");
System.out.println(formatter.format(localDateTime));		// 2022/12/06 20:22:48
```



